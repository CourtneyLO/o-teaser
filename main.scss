@import "o-colors/main";
@import "o-grid/main";
@import "o-typography/main";

@import "src/scss/variables";
@import "src/scss/color-use-cases";
// @import "src/scss/mixins";

@if ($o-teaser-is-silent == false) {

	.o-teaser {
		box-sizing: border-box;
		position: relative;
		clear: both;
		margin-bottom: 10px;
		font-family: $o-typography-sans;

		& *,
		& *:before,
		& *:after {
			box-sizing: inherit;
		}

		&.o-teaser--small {
			display: flex;
			flex-direction: row;
			flex-wrap: nowrap;
			justify-content: space-between;
			padding-bottom: 10px;
			border-bottom: 1px solid $_o-teaser-color-border;
		}
	}

	.o-teaser__content {
		.o-teaser--has-headshot & {
			padding-right: 95px;
		}

		.o-teaser--large & {
			padding: oGridGutter(M);
		}
	}

	.o-teaser--large {
		.o-teaser__content {
			border: 1px solid $_o-teaser-color-border;
			border-bottom: 0;
		}

		&.o-teaser--large-right .o-teaser__content {
			@include oGridRespondTo(S, L) {
				position: relative;
				float: left;
				width: 60%;
				border-bottom: 1px solid $_o-teaser-color-border;
				border-right: 0;

				&:after {
					content: '';
					position: absolute;
					top: 1px;
					right: -25%;
					height: 100%;
					width: 25%;
					display: block;
					border: 1px solid $_o-teaser-color-border;
					border-left: 0;
				}
			}
		}
	}

	.o-teaser__image,
	.o-teaser__image-timestamp {
		img {
			display: block;
			width: 100%;
			margin: 0;

			.o-teaser--large & {
				position: relative;
				z-index: 1;
			}
		}
	}

	.o-teaser__image,
	.o-teaser__image-timestamp {

		.o-teaser--small & {
			padding-top: 5px; // to line up with tag cap-height
			padding-right: oGridGutter(M);
		}

		.o-teaser--large & {
			position: relative;
			float: none;
			width: 100%;
			margin-top: -1px;
			padding-left: 25%;

			&:after {
				position: absolute;
				top: 0;
				left: 0;
				content: '';
				display: block;
				width: 100%;
				height: 50%;
				border-left: 1px solid $_o-teaser-color-border;
				border-bottom: 1px solid $_o-teaser-color-border;
			}

			@include oGridRespondTo(S, L) {
				position: static;
				float: right;
				width: 40%;
				padding-left: 0;

				&:after {
					top: 100%;
				}
			}
		}

		.o-teaser--large-right & {
			@include oGridRespondTo(S, L) {
				float: right;
				width: 40%;
				margin-top: 0;
				padding-left: 0;

				&:after {
					display: none;
				}
			}
		}
	}

	.o-teaser--large .o-teaser__image-timestamp {
		@include oGridRespondTo(S, L) {
			width: 45%;
			margin-top: -35px;

			&:after {
				bottom: -35px;
				top: auto;
				height: 35px;
			}
		}
	}

	.o-teaser__tag {
		@include font-size(16, 18);
		@include oColorsFor('o-teaser-tag', 'text')
		margin: 0;
		font-weight: oFontsWeight(semibold);
		text-decoration: none;
		border: 0;

		&:hover {
			color: #777;
		}

		strong {
			font-weight: normal;
		}

		.o-teaser--opinion & {
			@include oColorsFor('o-teaser-opinion-tag', 'text');
		}

		.o-teaser--special & {
			color: oColorsGetPaletteColor('white');
		}

		.o-teaser--large & {
			@include font-size(18, 20);
		}
	}

	.o-teaser__headshot {
		position: absolute;
		bottom: 0;
		right: 0;
	}

	.o-teaser__heading {
		@include font-size(24, 28);
		margin: 0;
		font-family: $o-typography-serif-display;
		font-weight: oFontsWeight(normal);
		color: $_o-teaser-color-title;

		&:hover {
			color: #777;
		}

		a {
			color: inherit;
			text-decoration: none;
			border: 0;
		}

		.o-teaser--large & {
			@include font-size(34, 36);
			font-family: $o-typography-sans;

			@include oGridRespondTo(L) {
				@include font-size(38, 40);
			}
		}

		.o-teaser--special & {
			color: oColorsGetPaletteColor('white');
		}
	}

	.o-teaser__standfirst {
		@include font-size(16, 22);
		margin: 0;
		color: $_o-teaser-color-standfirst;

		.o-teaser--large & {
			@include font-size(18, 24);
			margin-top: 25px;

			@include oGridRespondTo(L) {
				@include font-size(22, 28);
			}
		}

		.o-teaser--special & {
			color: rgba(oColorsGetPaletteColor('white'), 0.7);
		}

		.o-teaser__heading + & {
			margin-top: 10px;
		}
	}

	.o-teaser__timestamp {
		@include font-size(12, 16);
		@include oColorsFor('o-teaser-timestamp', text);
		display: block;
		text-transform: uppercase;

		.o-teaser--special & {
			color: oColorsGetPaletteColor('white');
		}

		.o-teaser--large & {
			margin-top: 10px;
		}

		.o-teaser__heading + &:not(:empty) {
			margin-top: 10px;
		}
	}

	.o-teaser--large.o-teaser--genre {
		.o-teaser__image,
		.o-teaser__image-timestamp {
			padding-left: 40%;

			@include oGridRespondTo(S, L) {
				position: relative;
				float: none;
				width: 100%;
				padding-left: 40%;

				&:after {

				}
			}
		}

		.o-teaser__image:after,
		.o-teaser__image-timestamp:after {
			top: auto;
			bottom: 0;
		}
	}

	.o-teaser--large.o-teaser--opinion,
	.o-teaser--large-right.o-teaser--opinion {
		.o-teaser__content,
		.o-teaser__image:after,
		.o-teaser__image-timestamp:after {
			@include oColorsFor('o-teaser-theme-opinion');
			border: 0;
		}

		.o-teaser__content:after {
			@include oGridRespondTo(S, L) {
				@include oColorsFor('o-teaser-theme-opinion');
				top: 0;
				border: 0;
			}
		}
	}

	.o-teaser--large.o-teaser--special,
	.o-teaser--large-right.o-teaser--special {
		.o-teaser__content,
		.o-teaser__image:after,
		.o-teaser__image-timestamp:after {
			@include oColorsFor('o-teaser-theme-special');
			border: 0;
		}

		.o-teaser__content:after {
			@include oGridRespondTo(S, L) {
				@include oColorsFor('o-teaser-theme-special');
				top: 0;
				border: 0;
			}
		}
	}

	// Set to silent again to avoid being output twice
	$o-teaser-is-silent: true !global;
}
